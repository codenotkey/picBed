(this.webpackJsonppic_bed=this.webpackJsonppic_bed||[]).push([[10],{278:function(e,t,r){"use strict";r.r(t);var n,i,c,s,a,l=r(0),d=r(266),j=r(30),b=r(80),u=r(18),h=r(272),o=r(103),g=r(186),p=r(130),x=r(81),O=r(29),f=r(280),v=r(150),m=r.n(v),w=r(4),F=h.a.Dragger,S=O.a.div(n||(n=Object(j.a)(["\n  margin-top: 10px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n"]))),U=O.a.h1(i||(i=Object(j.a)([" \n    margin: 20px 0;\n    text-align: center;\n"]))),k=O.a.img(c||(c=Object(j.a)(["\n   max-width: 300px;\n"]))),$=O.a.dt(s||(s=Object(j.a)(["\n  font-weight: bolder;\n  font-size: 16px;\n"]))),y=Object(b.a)((function(){var e=Object(x.a)(),t=e.ImageStore,r=e.UserStore,n=(Object(l.useRef)(),Object(l.useRef)(),Object(u.d)((function(){return{width:null,height:null,setWidth:function(e){n.width=e},setHeight:function(e){n.height=e},get WidthStr(){return n.width?"/w/".concat(n.width):""},get heightStr(){return n.height?"/h/".concat(n.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+n.WidthStr+n.heightStr}}}))),i={showUploadList:!1,beforeUpload:function(e){return t.setFilename(e.name),t.setFile(e),null===r.currentUser?(o.b.warn("\u767b\u5f55\u4e4b\u540e\u518d\u4e0a\u4f20"),!1):/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(o.b.error("\u56fe\u7247\u6700\u59271M"),!1):(t.upload().then((function(e){o.b.info("\u4e0a\u4f20\u6210\u529f,\u8bf7\u7b49\u5f85\u94fe\u63a5\u663e\u793a")})).catch((function(e){o.b.error("\u4e0a\u4f20\u5931\u8d25")})),!1):(o.b.error("\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1)}};return Object(w.jsxs)("div",{children:[Object(w.jsx)(g.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUploading,children:Object(w.jsxs)(F,Object(d.a)(Object(d.a)({},i),{},{children:[Object(w.jsx)("p",{className:"ant-upload-drag-icon",children:Object(w.jsx)(f.a,{})}),Object(w.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u533a\u57df\u4e0a\u4f20"}),Object(w.jsx)("p",{className:"ant-upload-hint",children:"\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247,\u56fe\u7247\u6700\u59271M\u3002"})]}))}),t.serverFile?Object(w.jsxs)(S,{children:[Object(w.jsx)(U,{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(w.jsxs)("dl",{children:[Object(w.jsx)($,{children:"\u7ebf\u4e0a\u5730\u5740"}),Object(w.jsx)("dd",{children:Object(w.jsx)("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url,style:{width:"50px"},children:t.serverFile.attributes.url.attributes.url})}),Object(w.jsx)("dt",{children:Object(w.jsx)(p.a,{type:"primary",shape:"round",onClick:function(){return e=t.serverFile.attributes.url.attributes.url,m()(e),void o.b.info("\u94fe\u63a5\u590d\u5236\u6210\u529f");var e},children:"\u590d\u5236\u94fe\u63a5"})}),Object(w.jsx)($,{children:"\u6587\u4ef6\u540d"}),Object(w.jsx)("dd",{children:t.filename}),Object(w.jsx)($,{children:"\u56fe\u7247\u9884\u89c8"}),Object(w.jsx)("dd",{children:Object(w.jsx)(k,{src:t.serverFile.attributes.url.attributes.url})})]})]}):null]})})),z=O.a.div(a||(a=Object(j.a)(["\n  background-color: #ff4d4f;\n  padding: 10px;\n  margin: 30px 0;\n  color: #fff;\n  border-radius: 4px;\n  text-align: center;\n  font-size: 16px;\n"]))),N=Object(b.a)((function(e){var t=e.children,r=Object(x.a)().UserStore;return Object(w.jsx)(w.Fragment,{children:r.currentUser?null:Object(w.jsx)(z,{children:t})})}));t.default=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N,{children:"\u767b\u5f55\u4ee5\u540e\u65b9\u53ef\u4f7f\u7528"}),Object(w.jsx)(y,{})]})}}}]);
//# sourceMappingURL=10.5f3d4eb2.chunk.js.map